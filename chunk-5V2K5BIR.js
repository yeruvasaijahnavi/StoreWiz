import{a as G}from"./chunk-OEBSJBT5.js";import{A as x,Aa as N,Ba as A,Q as T,R,na as W,o as j,pa as I,va as F,xa as L,y as O,ya as D}from"./chunk-OXXXM4EK.js";import{b as V,c as B,d as k,g as P,j as H,k as q,q as U,r as z,s as J,u as K,w as Q}from"./chunk-YHGVW4GW.js";import"./chunk-KMW6CVZW.js";import{h as E}from"./chunk-OBMS4ODY.js";import{Gb as M,Rb as e,Sb as t,Tb as c,_b as b,ab as a,ac as _,ad as w,da as f,jd as v,nc as r,oc as y,pa as s,pb as S,qa as m,sc as g,tc as p,uc as d,wb as h}from"./chunk-HB3EFGHP.js";import"./chunk-JKOY2XUY.js";function X(o,Y){if(o&1&&(e(0,"c-alert",23),s(),e(1,"svg",24),c(2,"use",25),t(),m(),e(3,"div"),r(4),t()()),o&2){let l=_();a(4),y(l.errorMessage)}}var ce=(()=>{class o{constructor(){this.registerObj={username:"",email:"",password:"",role:""},this.errorMessage="",this.authService=f(G),this.router=f(E)}onSubmit(){debugger;this.authService.signup(this.registerObj).subscribe({next:l=>{alert("Account created successfully!"),this.router.navigate(["/login"])},error:l=>{this.errorMessage=l.error?.message||"An error occurred during registration."},complete:()=>{console.log("Registration request successful")}})}static{this.\u0275fac=function(u){return new(u||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-register"]],decls:37,vars:5,consts:[[1,"bg-light","dark:bg-transparent","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["lg","7","md","9","xl","6"],[1,"mx-4"],[1,"p-4"],["cForm","",3,"ngSubmit"],[1,"text-body-secondary"],["color","danger","class","d-flex align-items-center",4,"ngIf"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","name","cFormControl","","name","username","placeholder","Username",3,"ngModelChange","ngModel"],["autoComplete","email","cFormControl","","name","email","placeholder","Email",3,"ngModelChange","ngModel"],["cIcon","","name","cilLockLocked"],["autoComplete","new-password","cFormControl","","name","password","placeholder","Password","type","password",3,"ngModelChange","ngModel"],[1,"mb-4"],["cIcon","","name","cilSettings"],["cFormControl","","name","role","required","",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","admin"],["value","staff"],[1,"d-grid"],["cButton","","color","success","type","submit"],["color","danger",1,"d-flex","align-items-center"],["width","24","height","24","role","img","aria-label","Error:",1,"bi","flex-shrink-0","me-2"],[0,"xlink","href","#exclamation-triangle-fill"]],template:function(u,i){u&1&&(e(0,"div",0)(1,"c-container")(2,"c-row",1)(3,"c-col",2)(4,"c-card",3)(5,"c-card-body",4)(6,"form",5),b("ngSubmit",function(){return i.onSubmit()}),e(7,"h1"),r(8,"Register"),t(),e(9,"p",6),r(10," Create your account "),t(),h(11,X,5,1,"c-alert",7),e(12,"c-input-group",8)(13,"span",9),s(),c(14,"svg",10),t(),m(),e(15,"input",11),d("ngModelChange",function(n){return p(i.registerObj.username,n)||(i.registerObj.username=n),n}),t()(),e(16,"c-input-group",8)(17,"span",9),r(18,"@"),t(),e(19,"input",12),d("ngModelChange",function(n){return p(i.registerObj.email,n)||(i.registerObj.email=n),n}),t()(),e(20,"c-input-group",8)(21,"span",9),s(),c(22,"svg",13),t(),m(),e(23,"input",14),d("ngModelChange",function(n){return p(i.registerObj.password,n)||(i.registerObj.password=n),n}),t()(),e(24,"c-input-group",15)(25,"span",9),s(),c(26,"svg",16),t(),m(),e(27,"select",17),d("ngModelChange",function(n){return p(i.registerObj.role,n)||(i.registerObj.role=n),n}),e(28,"option",18),r(29," Select a role "),t(),e(30,"option",19),r(31,"Admin"),t(),e(32,"option",20),r(33,"Staff"),t()()(),e(34,"div",21)(35,"button",22),r(36," Create Account "),t()()()()()()()()()),u&2&&(a(11),M("ngIf",i.errorMessage),a(4),g("ngModel",i.registerObj.username),a(4),g("ngModel",i.registerObj.email),a(4),g("ngModel",i.registerObj.password),a(4),g("ngModel",i.registerObj.role))},dependencies:[D,A,N,T,R,W,I,L,j,F,O,Q,q,z,J,V,U,B,k,K,H,P,v,w,x],encapsulation:2})}}return o})();export{ce as RegisterComponent};
