import{a as l}from"./chunk-KEDPSKOD.js";import{X as r,_c as s,aa as n}from"./chunk-ECNHR75B.js";var g=(()=>{class o{constructor(t){this.http=t,this.baseUrl=`${l.apiUrl}/auth`}signup(t){return this.http.post(`${this.baseUrl}/register`,t)}login(t){return this.http.post(`${this.baseUrl}/login`,t)}logout(){console.log("Token before logout:",localStorage.getItem("token")),localStorage.removeItem("token"),console.log("Token after logout:",localStorage.getItem("token"))}isLoggedIn(){return localStorage.getItem("token")!==null}getUser(){let t=localStorage.getItem("token");if(t){let e=JSON.parse(atob(t.split(".")[1]));return{username:e.username,role:e.role,email:e.email}}return{username:"",role:""}}hasRole(t){return this.getUser().role===t}static{this.\u0275fac=function(e){return new(e||o)(n(s))}}static{this.\u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{g as a};
