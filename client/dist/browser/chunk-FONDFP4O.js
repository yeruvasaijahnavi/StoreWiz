import{a as K}from"./chunk-2KAOWCLR.js";import{b as O,c as x,d as b,g as w,j as q,k as W,l as T,q as k,r as N,s as D,t as F,u as P,w as V}from"./chunk-YHGVW4GW.js";import{a as B}from"./chunk-3Q3JJAWE.js";import{h as E}from"./chunk-OBMS4ODY.js";import"./chunk-KEDPSKOD.js";import{$c as C,Gb as s,Rb as i,Sb as t,_b as v,ab as a,ac as c,ad as A,bb as S,jd as M,nc as d,pb as h,pc as g,qc as I,sc as f,tc as y,uc as _,wb as m}from"./chunk-HB3EFGHP.js";import"./chunk-JKOY2XUY.js";function L(r,p){if(r&1&&(i(0,"small",24),d(1),t()),r&2){let n=c();a(),g("Customer ID entered: ",n.order.customerId,"")}}function U(r,p){if(r&1&&(i(0,"option",25),d(1),t()),r&2){let n=p.$implicit;s("value",n.sku),a(),I(" ",n.sku," - ",n.name," ")}}function j(r,p){if(r&1&&(i(0,"small",24),d(1),t()),r&2){let n=c();a(),g("SKU selected: ",n.order.sku,"")}}function Q(r,p){if(r&1&&(i(0,"small",24),d(1),t()),r&2){let n=c();a(),g("Quantity entered: ",n.order.quantity,"")}}function R(r,p){if(r&1&&(i(0,"small",24),d(1),t()),r&2){let n=c();a(),g("Status selected: ",n.order.status,"")}}function G(r,p){if(r&1&&(i(0,"small",24),d(1),t()),r&2){let n=c();a(),g("Shipping Address entered: ",n.order.shippingAddress,"")}}var te=(()=>{class r{constructor(n,l,e){this.orderService=n,this.inventoryService=l,this.router=e,this.order={customerId:"",sku:"",quantity:0,status:"pending",shippingAddress:"",inventoryItemId:"",orderDate:new Date},this.inventoryItems=[]}ngOnInit(){this.loadInventoryItems()}loadInventoryItems(){this.inventoryService.getInventoryItems().subscribe({next:n=>{this.inventoryItems=n},error:n=>{console.error("Error loading inventory items:",n)}})}onSKUChange(n){let l=this.inventoryItems.find(e=>e.sku===n);this.order.inventoryItemId=l?l._id:"",console.log("Selected Inventory Item:",l,l._id)}addOrder(){console.log("Adding order:",this.order),this.orderService.addOrder(this.order).subscribe({next:n=>{console.log("Order added successfully:",n),this.router.navigate(["/orders"])},error:n=>{console.error("Error adding Order:",n)}})}static{this.\u0275fac=function(l){return new(l||r)(S(K),S(B),S(E))}}static{this.\u0275cmp=h({type:r,selectors:[["app-order-add"]],decls:43,vars:11,consts:[[1,"container","mt-4"],[1,"mb-4"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6","form-floating"],["id","customerId","type","text","name","customerId","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","customerId"],["class","text-muted",4,"ngIf"],["id","sku","name","sku","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","sku"],[1,"col-md-4","form-floating"],["id","quantity","type","number","name","quantity","min","1","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","quantity"],["id","status","name","status","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","pending"],["value","assigned"],["value","shipped"],["value","delivered"],["for","status"],["id","shippingAddress","type","text","name","shippingAddress","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","shippingAddress"],[1,"col-12"],["type","submit",1,"btn","btn-primary"],[1,"text-muted"],[3,"value"]],template:function(l,e){l&1&&(i(0,"div",0)(1,"h2",1),d(2,"Add New Order"),t(),i(3,"form",2),v("ngSubmit",function(){return e.addOrder()}),i(4,"div",3)(5,"input",4),_("ngModelChange",function(o){return y(e.order.customerId,o)||(e.order.customerId=o),o}),t(),i(6,"label",5),d(7,"Customer ID"),t(),m(8,L,2,1,"small",6),t(),i(9,"div",3)(10,"select",7),_("ngModelChange",function(o){return y(e.order.sku,o)||(e.order.sku=o),o}),v("change",function(){return e.onSKUChange(e.order.sku)}),i(11,"option",8),d(12,"Select SKU"),t(),m(13,U,2,3,"option",9),t(),i(14,"label",10),d(15,"SKU"),t(),m(16,j,2,1,"small",6),t(),i(17,"div",11)(18,"input",12),_("ngModelChange",function(o){return y(e.order.quantity,o)||(e.order.quantity=o),o}),t(),i(19,"label",13),d(20,"Quantity"),t(),m(21,Q,2,1,"small",6),t(),i(22,"div",11)(23,"select",14),_("ngModelChange",function(o){return y(e.order.status,o)||(e.order.status=o),o}),i(24,"option",15),d(25,"Pending"),t(),i(26,"option",16),d(27,"In Progress"),t(),i(28,"option",17),d(29,"Shipped"),t(),i(30,"option",18),d(31,"Delivered"),t()(),i(32,"label",19),d(33,"Status"),t(),m(34,R,2,1,"small",6),t(),i(35,"div",11)(36,"input",20),_("ngModelChange",function(o){return y(e.order.shippingAddress,o)||(e.order.shippingAddress=o),o}),t(),i(37,"label",21),d(38,"Shipping Address"),t(),m(39,G,2,1,"small",6),t(),i(40,"div",22)(41,"button",23),d(42,"Add Order"),t()()()()),l&2&&(a(5),f("ngModel",e.order.customerId),a(3),s("ngIf",e.order.customerId),a(2),f("ngModel",e.order.sku),a(3),s("ngForOf",e.inventoryItems),a(3),s("ngIf",e.order.sku),a(2),f("ngModel",e.order.quantity),a(3),s("ngIf",e.order.quantity),a(2),f("ngModel",e.order.status),a(11),s("ngIf",e.order.status),a(2),f("ngModel",e.order.shippingAddress),a(3),s("ngIf",e.order.shippingAddress))},dependencies:[V,W,N,D,O,T,k,x,b,P,F,q,w,M,C,A],encapsulation:2})}}return r})();export{te as OrderAddComponent};
